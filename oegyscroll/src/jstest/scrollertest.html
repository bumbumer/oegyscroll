<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" 
                    "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	 <style type="text/css">
	 	#content {padding:10px;}
	 	.data-list {height:100px;overflow:auto;border:1px solid #ccc;}
	 	.data-list td {font-size:11px;}
	 	.data-list tr.loader-placeholder td {height:80px;}
	 	.data-list tbody tr.loaded-row td {height:20px;padding:4px 0 0 4px;}
	 	.data-list .loader-placeholder td {background:transparent url(images/loading-row.gif) repeat-y;}
	 	.scrollable-area {background:#fff url(images/table-rows-striped.gif);}
	 </style>
<link rel="stylesheet" href="qunit.css" type="text/css" media="screen" />
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript" src="qunit.js"></script>
<script type="text/javascript" src="../main/java/org/laughingpanda/wicket/scroller.js"></script>
<script language="javascript">
  var clicked = new Array();

  $(document).ready(function(){
	function bindClick(id) {
		clicked[id] = false;
		$('#placeholder-' + id).get(0).onclick=function(){clicked[id] = true};
	}
	
	bindClick(1);
	bindClick(2);
    
	test("clicks visible placeholders at start", function() {
		checkScrollPosition('scroller', 'content');
		equals(clicked[1], true, "First placeholder should be clicked" );
		equals(clicked[2], false, "Second placeholder should not be clicked" );  
	});

	test("clicks visible placeholders when scrolling", function() {
		$('#scroller').attr('scrollTop', 100);
		checkScrollPosition('scroller', 'content');
		equals(clicked[2], true, "Second placeholder should be clicked" );
	});
  });
</script>
  
</head>
<body>
  <h1 id="qunit-header">Oegyscroll Javascript Test</h1>
 <h2 id="qunit-banner"></h2>
 <h2 id="qunit-userAgent"></h2>
 <ol id="qunit-tests"></ol>
	<div id="scroller" class="data-list">
	  	<div class="scrollable-area">
		  	<table id="content">
				<tbody>
					<tr class="loaded-row">
				   		<td>Row 1</td>
				   		<td>Row 2</td>
					</tr>
				</tbody>
				<tbody>
					<tr class="loader-placeholder" id="placeholder-1">
				   		<td>Placeholder for rows 3..4</td>
					</tr>
				</tbody>
				<tbody>
					<tr class="loader-placeholder" id="placeholder-2">
				   		<td>Placeholder for rows 5..6</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>
</html>
